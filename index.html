<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AR Quick Look ‚Äî Worker 12</title>

  <!-- 3D-–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    :root { --card-max: 640px; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: #f5f7fb;
      margin: 0; padding: 24px; text-align: center;
    }
    .container {
      max-width: var(--card-max);
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
    }
    h1 { margin: 6px 0 8px; font-size: 28px; }
    p  { margin: 0 0 16px; color: #4a5568; }

    model-viewer {
      width: 100%;
      height: 420px;
      border-radius: 12px;
      background: #e9edf3;
      outline: none;
    }

    .ar-button {
      display: inline-flex; align-items: center; gap: 10px;
      margin-top: 18px; padding: 12px 18px;
      background: #000; color: #fff; text-decoration: none;
      border-radius: 10px; font-weight: 700;
      transition: filter .2s ease;
    }
    .ar-button:hover { filter: brightness(1.15); }

    /* Toast */
    .toast {
      position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%);
      background: rgba(0,0,0,.92); color: #fff; padding: 12px 16px;
      border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,.2);
      opacity: 0; pointer-events: none; transition: opacity .2s ease, transform .2s ease;
      max-width: calc(100% - 32px);
    }
    .toast.show {
      opacity: 1; pointer-events: auto; transform: translateX(-50%) translateY(0);
    }
    .toast__close {
      margin-left: 14px; cursor: pointer; opacity: .8;
      border: 0; background: transparent; color: #fff; font-size: 16px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Worker 12</h1>
    <p>–ü–æ—Å–º–æ—Ç—Ä–∏ 3D-–º–æ–¥–µ–ª—å –∑–¥–µ—Å—å –∏–ª–∏ –æ—Ç–∫—Ä–æ–π –≤ AR –Ω–∞ iPhone/iPad.</p>

    <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –º–æ–¥–µ–ª–∏ -->
    <model-viewer
      src="https://vitalii-hton.github.io/weisworld/ar17.usdz"
      ios-src="https://vitalii-hton.github.io/weisworld/ar17.usdz"
      alt="3D Model"
      ar
      ar-modes="quick-look"
      camera-controls
      auto-rotate>
    </model-viewer>

    <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ AR -->
    <a
      class="ar-button"
      id="ar-link"
      rel="ar"
      href="https://vitalii-hton.github.io/weisworld/ar17.usdz#applePayButtonType=plain&checkoutTitle=My%203D%20Model&checkoutSubtitle=Awesome%20AR%20experience&price=$100.00"
    >
      üì± –û—Ç–∫—Ä—ã—Ç—å –≤ AR
    </a>
  </div>

  <!-- –ë–∞–Ω–Ω–µ—Ä (toast) -->
  <div id="toast" class="toast" role="status" aria-live="polite">
    <span id="toast-text">–ö–Ω–æ–ø–∫–∞ –≤ AR –Ω–∞–∂–∞—Ç–∞!</span>
    <button class="toast__close" id="toast-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
  </div>

  <script>
    // –ë–∞–Ω–Ω–µ—Ä
    const toast = document.getElementById('toast');
    const toastText = document.getElementById('toast-text');
    const toastClose = document.getElementById('toast-close');
    let toastTimer;

    function showBanner(message = "–ö–Ω–æ–ø–∫–∞ –≤ AR –Ω–∞–∂–∞—Ç–∞!") {
      toastText.textContent = message;
      toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove('show'), 3000);
    }
    toastClose.addEventListener('click', () => {
      toast.classList.remove('show');
      clearTimeout(toastTimer);
    });

    // –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è, –∫–∞–∫ –≤ —Å—Ç–∞—Ä–æ–º –∫–æ–¥–µ
    const linkElement = document.getElementById('ar-link');
    function handleQuickLookMessage(event) {
      if (event && event.data === "_apple_ar_quicklook_button_tapped") {
        showBanner("–ö–Ω–æ–ø–∫–∞ –≤ AR –Ω–∞–∂–∞—Ç–∞!");
      }
    }

    // –õ–æ–≤–∏–º —Å–æ–±—ã—Ç–∏–µ –∏ –Ω–∞ <a>, –∏ –Ω–∞ window
    linkElement.addEventListener('message', handleQuickLookMessage, false);
    window.addEventListener('message', handleQuickLookMessage, false);
  </script>
</body>
</html>
